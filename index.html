<!DOCTYPE html><html lang="pl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>POS Telegram</title>
<style>
body{margin:0;font-family:system-ui;background:#0f172a;color:#e5e7eb}
header{padding:12px;background:#020617;text-align:center;font-size:18px;font-weight:700}
main{display:grid;grid-template-columns:2fr 1fr;gap:10px;padding:10px}
.card{background:#020617;border-radius:14px;padding:12px}
.btn{background:#22c55e;color:#022c22;border:none;border-radius:10px;padding:12px;font-size:16px;font-weight:700;margin:4px 0;width:100%}
.btn.alt{background:#38bdf8;color:#020617}
.list button{margin-bottom:6px}
.small{font-size:12px;color:#94a3b8}
input,select{width:100%;padding:10px;border-radius:10px;border:none;margin:6px 0}
</style>
</head>
<body>
<header>ðŸ“± POS â€“ Telegram Web App</header>
<main>
  <div class="card">
    <h3>Produkty</h3>
    <div class="list" id="products"></div>
    <button class="btn alt" onclick="addProduct()">âž• Dodaj produkt</button>
  </div>
  <div class="card">
    <h3>Koszyk</h3>
    <div id="cart"></div>
    <button class="btn" onclick="pay()">ðŸ’³ Sprzedaj</button>
    <p class="small" id="profit"></p>
  </div>
</main>
<script>
const PIN='1312';
let products=JSON.parse(localStorage.getItem('products')||'[]');
let cart=[];
function save(){localStorage.setItem('products',JSON.stringify(products));}
function render(){
 const p=document.getElementById('products');p.innerHTML='';
 products.forEach((x,i)=>{
  const b=document.createElement('button');b.className='btn alt';
  b.textContent=`${x.name} â€“ ${x.price} zÅ‚`;
  b.onclick=()=>{cart.push(x);renderCart();};p.appendChild(b);
 });
}
function renderCart(){
 const c=document.getElementById('cart');c.innerHTML='';let sum=0,profit=0;
 cart.forEach(x=>{sum+=x.price;profit+=x.price-x.cost;
  const d=document.createElement('div');d.textContent=`${x.name} ${x.price} zÅ‚`;c.appendChild(d);
 });
 document.getElementById('profit').textContent=`Suma: ${sum} zÅ‚ | Zysk: ${profit} zÅ‚`;
}
function addProduct(){
 const name=prompt('Nazwa');if(!name)return;
 const price=parseFloat(prompt('Cena sprzedaÅ¼y'));
 const cost=parseFloat(prompt('Cena zakupu'));
 products.push({name,price,cost});save();render();
}
function pay(){alert('SprzedaÅ¼ zapisana');cart=[];renderCart();}
render();
</script>
</body>
</html>
